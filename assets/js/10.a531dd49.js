(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{277:function(a,t,s){"use strict";s.r(t);var e=s(13),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),t("h2",{attrs:{id:"默认配置目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#默认配置目录"}},[a._v("#")]),a._v(" 默认配置目录")]),a._v(" "),t("p",[a._v("默认配置文件名为 "),t("code",[a._v("config.xxx")]),a._v(".将按优先级查找"),t("code",[a._v("toml/yaml/yml/json/ini/xml/properties")]),a._v("格式的配置文件.")]),a._v(" "),t("p",[a._v("服务启动时,会按以下顺序查找配置文件:")]),a._v(" "),t("ol",[t("li",[a._v("运行目录")]),a._v(" "),t("li",[a._v("运行目录下的"),t("code",[a._v("config")]),a._v("子目录")]),a._v(" "),t("li",[a._v("运行目录下的"),t("code",[a._v("mainfest/config")]),a._v("目录")]),a._v(" "),t("li",[a._v("程序目录")]),a._v(" "),t("li",[a._v("程序目录下的"),t("code",[a._v("config")]),a._v("子目录")]),a._v(" "),t("li",[a._v("程序目录下的"),t("code",[a._v("mainfest/config")]),a._v("目录")])]),a._v(" "),t("h2",{attrs:{id:"指定配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#指定配置文件"}},[a._v("#")]),a._v(" 指定配置文件")]),a._v(" "),t("p",[a._v("在需要的时候,可以指定配置文件.")]),a._v(" "),t("h3",{attrs:{id:"通过命令行参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通过命令行参数"}},[a._v("#")]),a._v(" 通过命令行参数")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./config-deliver --gf.gcfg.file"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("config.prod.toml\n")])])]),t("h3",{attrs:{id:"通过环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通过环境变量"}},[a._v("#")]),a._v(" 通过环境变量")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("GF_GCFG_FILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("config.prod.toml\n./config-deliver\n")])])]),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[a._v("DANGER")]),a._v(" "),t("p",[a._v("为了避免环境变量冲突,你应该在 shell 脚本中使用"),t("code",[a._v("export")]),a._v("命令来设置环境变量.")]),a._v(" "),t("p",[a._v("或者在 Docker 中使用"),t("code",[a._v("-e")]),a._v("参数来设置环境变量.")])]),a._v(" "),t("h2",{attrs:{id:"配置文件示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置文件示例"}},[a._v("#")]),a._v(" 配置文件示例")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("address")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('":8000"')]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("logger")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("level")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"info"')]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("stdout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("dirmap")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("238FDEDC-20DC-B06E-1D32-AD511C637A23")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ./\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);